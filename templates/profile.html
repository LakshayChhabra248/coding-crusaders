{% extends 'base.html' %}
{% load static %}

{% block content %}
<main>
  <section class="section">
    <div class="container">
      <div class="profile-wrap glass" style="max-width:820px;margin:0 auto;padding:22px;">
        <div style="display:flex;gap:18px;align-items:center;flex-wrap:wrap">
          {% if team_member and team_member.photo %}
            <img src="{{ team_member.photo.url }}" alt="{{ team_member.name }}" style="flex:0 0 120px;height:120px;width:120px;border-radius:16px;object-fit:cover;" />
          {% else %}
            <div class="avatar" style="flex:0 0 120px;height:120px;width:120px;border-radius:16px"></div>
          {% endif %}
          <div style="flex:1;min-width:220px">
            <h2 style="margin:0 0 6px">{{ profile_user.get_full_name|default:profile_user.username }}{% if team_member and team_member.pronouns %} <small class="pronouns">({{ team_member.pronouns }})</small>{% endif %}</h2>
            <div class="role-tag {{ tag_class }}" style="display:inline-block;margin-bottom:8px">{{ role }}</div>
            <p style="opacity:0.9;margin-top:10px">{{ team_member.bio|default:"No profile bio available." }}</p>
          </div>
        </div>

          <div style="margin-top:18px;display:flex;gap:12px;flex-wrap:wrap">
          {% if team_member and team_member.instagram %}
            <a class="social-icon" href="{{ team_member.instagram }}" target="_blank" rel="noopener noreferrer">Instagram</a>
          {% endif %}
          {% if team_member and team_member.linkedin %}
            <a class="social-icon" href="{{ team_member.linkedin }}" target="_blank" rel="noopener noreferrer">LinkedIn</a>
          {% endif %}
          {% if team_member and team_member.x %}
            <a class="social-icon" href="{{ team_member.x }}" target="_blank" rel="noopener noreferrer">X</a>
          {% endif %}
          {% if profile_user.email and not team_member %}
            <div style="width:100%;margin-top:10px;color:rgba(255,255,255,0.8);font-size:13px">No team profile found for <strong>{{ profile_user.email }}</strong>.</div>
          {% endif %}
        </div>

        <div style="margin-top:20px">
          <a class="btn primary" href="{% url 'main:team' %}">Meet the Team</a>
          <a class="btn ghost" href="{% url 'main:contact' %}">Contact</a>
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock %}
