{% extends 'base.html' %}
{% load static %}

{% block content %}
<main>
  <section id="home" class="section hero">
    <div class="container">
      <div class="hero-head">
        <h1 class="hero-brand">Coding Crusaders</h1>
        <p class="hero-tagline">Building Tomorrow's Solutions Today</p>
      </div>
      <p class="hero-sub">Creating innovative, scalable, and impactful software solutions for forward-thinking enterprises.</p>
      <div class="hero-cta">
        <a class="btn primary" href="{% url 'main:contact' %}">Get in Touch</a>
        <a class="btn ghost" href="{% url 'main:about' %}">View More</a>
      </div>
    </div>
  </section>

  <section id="about" class="section">
    <div class="container">
      <h2>About Us</h2>
      <div class="cards cards-interactive">
        <div class="card glass card-stat" data-count="3">
          <div class="stat-number">3<span class="stat-suffix">+</span></div>
          <h3>Team Members</h3>
          <p>Passionate developers and designers collaborating on innovative solutions.</p>
        </div>
        <div class="card glass card-stat" data-count="50">
          <div class="stat-number">50<span class="stat-suffix">+</span></div>
          <h3>Projects Built</h3>
          <p>From concept to deployment, we deliver polished, interactive web experiences.</p>
        </div>
        <div class="card glass card-stat" data-count="10">
          <div class="stat-number">10<span class="stat-suffix">+</span></div>
          <h3>Years Experience</h3>
          <p>Combined expertise in web development, design, and interactive animations.</p>
        </div>
      </div>
      <div class="section-footer"><a class="btn ghost" href="{% url 'main:about' %}">View More About Us</a></div>
    </div>
  </section>

  <section id="achievements" class="section">
    <div class="container">
      <h2>Achievements & Participations</h2>
      <div class="highlights highlights-interactive">
        <div class="highlight highlight-participation glass">
          <div class="highlight-inner">
            <div class="tag">üèÜ Participations</div>
            <ul class="compact-list achievement-list">
              {% for p in participations %}
                <li class="achievement-item">
                  <span class="achievement-year">{{ p.year }}</span>
                  <span class="achievement-text">{{ p.event }}</span>
                </li>
              {% empty %}
                <li>No participations recorded yet.</li>
              {% endfor %}
            </ul>
          </div>
        </div>

        <div class="highlight highlight-achievement glass">
          <div class="highlight-inner">
            <div class="tag">‚≠ê Achievements</div>
            <ul class="compact-list achievement-list">
              {% for a in achievements %}
                <li class="achievement-item">
                  <span class="achievement-year">{% if a.year %}{{ a.year }}{% else %}2024{% endif %}</span>
                  <span class="achievement-text">{{ a.title }}</span>
                </li>
              {% empty %}
                <li>No achievements recorded yet.</li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="team" class="section">
    <div class="container">
      <h2>Team</h2>
      <div class="team-grid team-grid-interactive">
        {% for member in team_members %}
        <button class="profile-card glass profile-card-interactive" data-name="{{ member.name|escape }}" data-title="{{ member.title|escape }}" data-bio="{{ member.bio|escape }}" data-instagram="{{ member.instagram|default:'' }}" data-linkedin="{{ member.linkedin|default:'' }}" data-x="{{ member.x|default:'' }}" aria-haspopup="dialog">
          <div class="card-inner">
            {% if member.photo %}
              <img class="avatar avatar-interactive" src="{{ member.photo.url }}" alt="{{ member.name }}" aria-hidden="true" />
            {% else %}
              <div class="avatar avatar-interactive" aria-hidden="true"></div>
            {% endif %}
            <h3>{{ member.name }}{% if member.pronouns %} <small class="pronouns">({{ member.pronouns }})</small>{% endif %}</h3>
            <p class="title">{{ member.title }}</p>
            <div class="socials socials-interactive" aria-hidden="false">
              {% if member.instagram %}
                <a class="social-icon" href="{{ member.instagram }}" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.057-1.645.069-4.849.069-3.204 0-3.584-.012-4.849-.069-3.259-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4zm4.29-10.195c-.798 0-1.45.652-1.45 1.45s.652 1.45 1.45 1.45 1.45-.652 1.45-1.45-.652-1.45-1.45-1.45z" fill="currentColor" />
                  </svg>
                </a>
              {% endif %}
              {% if member.linkedin %}
                <a class="social-icon" href="{{ member.linkedin }}" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z" />
                  </svg>
                </a>
              {% endif %}
              {% if member.x %}
                <a class="social-icon" href="{{ member.x }}" target="_blank" rel="noopener noreferrer" aria-label="X">
                  <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24h-6.657l-5.207-6.807-5.989 6.807H2.423l7.723-8.835L1.228 2.25h6.837l4.759 6.289 5.419-6.289Zm-1.161 17.52h1.833L7.084 4.126H5.117Z" />
                  </svg>
                </a>
              {% endif %}
            </div>
          </div>
        </button>
        {% empty %}
        <div class="card glass">No team members yet. Add members from Studio.</div>
        {% endfor %}
      </div>
      <div class="section-footer"><a class="btn ghost" href="{% url 'main:team' %}">Meet The Team</a></div>
    </div>
  </section>

  <section id="projects" class="section">
    <div class="container">
      <div class="projects-section-intro">
        <div>
          <h2 style="margin:0">Projects</h2>
          <p style="margin:6px 0 0;opacity:0.9">Selected work ‚Äî a curated view of our major initiatives.</p>
        </div>
        <div>
          <a class="btn ghost" href="{% url 'main:projects' %}">View All Projects</a>
        </div>
      </div>

      {% if projects %}
      <div class="projects-hero projects-hero-interactive">
        {% with featured=projects.0 %}
        <div class="hero-card glass hero-card-interactive" id="featured-project" data-id="{{ featured.id }}" data-title="{{ featured.title|escapejs }}" data-desc="{{ featured.description|escapejs }}" data-link="{{ featured.link|default:'#' }}" data-img="{% if featured.images.all %}{{ featured.images.all.0.image.url }}{% endif %}">
          {% if featured.images.all %}
            <img class="featured-img featured-img-animated" src="{{ featured.images.all.0.image.url }}" alt="{{ featured.title }}" style="width:100%;height:220px;object-fit:cover;border-radius:10px;margin-bottom:12px" />
          {% endif %}
          <div class="featured-body">
            <h3 class="featured-title">{{ featured.title }}</h3>
            <p class="lead featured-desc">{{ featured.description|truncatechars:180 }}</p>
            <div class="hero-meta">
              <a class="btn primary featured-cta" href="{{ featured.link|default:'#' }}" target="_blank">Explore</a>
              <div style="margin-left:auto;opacity:0.9">Featured</div>
            </div>
          </div>
        </div>
        {% endwith %}

        <div class="mini-list mini-list-interactive" id="mini-projects">
          {% for p in projects|slice:"1:2" %}
            <div class="project-card card-lg glass mini-project mini-project-interactive" tabindex="0" role="button" aria-pressed="false" data-id="{{ p.id }}" data-title="{{ p.title|escapejs }}" data-desc="{{ p.description|escapejs }}" data-link="{{ p.link|default:'#' }}" data-img="{% if p.images.all %}{{ p.images.all.0.image.url }}{% endif %}">
              {% if p.images.all %}
                <img class="mini-img" src="{{ p.images.all.0.image.url }}" alt="{{ p.title }}" style="width:120px;height:80px;object-fit:cover;border-radius:6px;float:left;margin-right:12px" />
              {% endif %}
              <div class="mini-body">
                <div class="project-title mini-title">{{ p.title }}</div>
                <div class="project-desc mini-desc">{{ p.description|truncatechars:100 }}</div>
              </div>
              <button class="card-link" type="button" data-action="swap">Open</button>
            </div>
          {% endfor %}
        </div>
      </div>
      <div class="section-footer"><a class="btn ghost" href="{% url 'main:projects' %}">See all projects</a></div>
      {% else %}
        <div class="card glass">No projects yet.</div>
      {% endif %}
    </div>
  </section>
</main>
{% endblock %}

